import{V as j,r as h,k as S,c as d,a as e,b as v,v as w,t as b,d as y,g as V,w as z,F as D,l as Y,e as U,A as u,o as c,W as H,X as N}from"./index-qa-Rpqd_.js";import{_ as O}from"./pagination-B2HdcKcU.js";import{S as n}from"./sweetalert2.all-CwpX0FE-.js";const q={class:"flex flex-col mt-5 ml-2 mb-5"},E={class:"overflow-x-auto"},I={class:"inline-block min-w-full align-middle"},P={class:"overflow-hidden shadow"},R={id:"default-modal",tabindex:"-1","aria-hidden":"true",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},F={class:"relative p-4 w-full max-w-2xl max-h-full"},G={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},L={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},J=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Music ",-1),W=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),X=e("span",{class:"sr-only"},"Close modal",-1),Z=[W,X],K={class:"p-4 md:p-5 space-y-4"},Q=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Title",-1),ee={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},te=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Album name",-1),re={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},oe=e("label",{for:"genre",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Select an option",-1),se=H('<option selected>Choose a genre</option><option value="rmb">Rmb</option><option value="country">Country</option><option value="classics">Classics</option><option value="rock">Rock</option><option value="jazz">Jazz</option>',6),ae=[se],ne={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},le={class:"flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600"},ie={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},de={class:"flex items-center justify-between flex-column flex-wrap md:flex-row space-y-4 md:space-y-0 pb-4 bg-white dark:bg-gray-900"},ue={class:"flex justify-between"},ce={class:"relative"},me=e("div",{class:"absolute inset-y-0 rtl:inset-r-0 start-0 flex items-center ps-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),ge={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},be=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Music Title "),e("th",{scope:"col",class:"px-6 py-3"}," Album "),e("th",{scope:"col",class:"px-6 py-3"}," Genre "),e("th",{scope:"col",class:"px-6 py-3"}," Action ")])],-1),pe={class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},fe={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},he={class:"px-6 py-4"},xe={class:"px-6 py-4"},ve={class:"px-6 py-4"},ye=["onClick"],ke=["onClick"],Te={__name:"Music",setup(we){const _=j(),C=()=>{N.push({name:"artist"}).catch(o=>console.log(o))},i=h([]),a=h({message:"",errors:{title:[""],album_name:[""],genre:[""]}}),p=h(0),x=o=>{a.value.errors[o]=[""]},B=o=>{f(),s.value.title=o.title,s.value.album_name=o.album_name,s.value.genre=o.genre,p.value=o.id,m(!0)},m=o=>{const t=document.querySelector("#default-modal"),r={placement:"bottom-right",backdrop:"dynamic",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40"},l=new Modal(t,r);o?l.show():l.hide()},s=h({title:"",album_name:"",genre:"",artistid:0}),T=()=>{n.fire({title:"Are you sure?",text:"You you want to store!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(o=>{o.isConfirmed&&(u.setHeader(),u.post("api/music-create",s.value).then(t=>{t.status==200&&(n.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:l=>{l.onmouseenter=n.stopTimer,l.onmouseleave=n.resumeTimer}}).fire({icon:"success",title:"Music Created successfully"}),f(),m(!1),g(i.value.currentpage,""))}).catch(t=>{a.value=t.response.data}))})},M=()=>{p.value=0,f(),m(!0)},A=()=>{n.fire({title:"Are you sure?",text:"You you want to update!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(o=>{o.isConfirmed&&(u.setHeader(),u.put("api/music-update/"+p.value,s.value).then(t=>{t.status==200&&(n.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:l=>{l.onmouseenter=n.stopTimer,l.onmouseleave=n.resumeTimer}}).fire({icon:"success",title:"Music Updated successfully"}),f(),m(!1),g(i.value.currentpage,""))}).catch(t=>{a.value=t.response.data}))})},$=o=>{n.fire({title:"Are you sure?",text:"You want to delete!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&(u.setHeader(),u.delete("api/music-delete/"+o+"/"+s.value.artistid).then(r=>{r.status==200&&(n.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:k=>{k.onmouseenter=n.stopTimer,k.onmouseleave=n.resumeTimer}}).fire({icon:"success",title:"Music Deleted successfully"}),g(i.value.currentpage,""))}).catch(r=>{a.value=r.response.data}))})},g=(o=1,t="")=>{u.setHeader(),u.get("api/get-music-list/"+s.value.artistid,{params:{page:o,search:t}}).then(r=>{i.value=r.data}).catch(r=>{console.log(r.response.data.message)})},f=()=>{s.value.title="",s.value.album_name="",s.value.genre="",a.value={message:"",errors:{title:[""],album_name:[""],genre:[""]}}};return S(()=>{let o=_.params.id;s.value.artistid=o,g(1,"")}),(o,t)=>(c(),d("div",q,[e("div",E,[e("div",I,[e("div",P,[e("div",R,[e("div",F,[e("div",G,[e("div",L,[J,e("button",{type:"button","data-modal-hide":"default-modal",onClick:t[0]||(t[0]=r=>m(!1)),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"},Z)]),e("div",K,[e("div",null,[Q,v(e("input",{onInput:t[1]||(t[1]=r=>x("title")),"onUpdate:modelValue":t[2]||(t[2]=r=>s.value.title=r),type:"text",name:"firstname",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"",required:""},null,544),[[w,s.value.title]]),a.value.errors.title&&a.value.errors.title[0]!=""?(c(),d("span",ee,b(a.value.errors.title[0]),1)):y("",!0)]),e("div",null,[te,v(e("input",{onInput:t[3]||(t[3]=r=>x("album_name")),"onUpdate:modelValue":t[4]||(t[4]=r=>s.value.album_name=r),type:"text",name:"firstname",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"",required:""},null,544),[[w,s.value.album_name]]),a.value.errors.album_name&&a.value.errors.album_name[0]!=""?(c(),d("span",re,b(a.value.errors.album_name[0]),1)):y("",!0)]),e("div",null,[oe,v(e("select",{onChange:t[5]||(t[5]=r=>x("genre")),id:"genre","onUpdate:modelValue":t[6]||(t[6]=r=>s.value.genre=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},ae,544),[[V,s.value.genre]]),a.value.errors.genre&&a.value.errors.genre[0]!=""?(c(),d("span",ne,b(a.value.errors.genre[0]),1)):y("",!0)])]),e("div",le,[p.value==0?(c(),d("button",{key:0,type:"button",onClick:T,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"ADD")):(c(),d("button",{key:1,type:"button",onClick:A,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Update")),e("button",{onClick:t[7]||(t[7]=r=>m(!1)),type:"button",class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"},"Close")])])])]),e("div",ie,[e("div",de,[e("div",null,[e("div",ue,[e("button",{onClick:M,class:"mr-5 block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"}," Add Album "),e("button",{onClick:t[8]||(t[8]=z(r=>C(),["prevent"])),class:"block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"}," Go back ")])]),e("div",ce,[me,e("input",{type:"text",id:"table-search-music",onChange:t[9]||(t[9]=r=>g(i.value.currentpage,r.target.value)),class:"block p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"search music"},null,32)])]),e("table",ge,[be,e("tbody",null,[(c(!0),d(D,null,Y(i.value.data,r=>(c(),d("tr",pe,[e("th",fe,b(r.title),1),e("td",he,b(r.album_name),1),e("td",xe,b(r.genre),1),e("td",ve,[e("a",{href:"#",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-2 py-1 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",onClick:l=>B(r)},"Edit",8,ye),e("a",{href:"#",class:"focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-3 ml-2 py-1 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",onClick:l=>$(r.id)},"Delete",8,ke)])]))),256))])]),U(O,{currentpage:i.value.currentpage,perpage:i.value.perpage,total:i.value.total,search:"",onLoadDate:g},null,8,["currentpage","perpage","total"])])])])])]))}};export{Te as default};
