import{r as f,u as O,k as S,c as i,a as e,b as _,v as k,t as m,d as y,e as w,f as A,g as I,F as E,l as R,A as d,o as u,w as q}from"./index-qa-Rpqd_.js";import{_ as L}from"./pagination-B2HdcKcU.js";import{S as n}from"./sweetalert2.all-CwpX0FE-.js";import{H as T}from"./main-DfrwioCZ.js";const P={class:"flex flex-col mt-5 ml-2 mb-5"},z={class:"overflow-x-auto"},G={class:"inline-block min-w-full align-middle"},Z={class:"overflow-hidden shadow"},J={id:"default-modal",tabindex:"-1","aria-hidden":"true",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},K={class:"relative p-4 w-full max-w-2xl max-h-full"},Q={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},W={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},X=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Artist ",-1),ee=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),te=e("span",{class:"sr-only"},"Close modal",-1),re=[ee,te],oe={class:"p-4 md:p-5 space-y-4"},se=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Artist Name",-1),ae={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},le=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"First Release Year",-1),ne={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},de=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"No of Album",-1),ie={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},ue=e("label",{for:"dob",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Your Date of birth",-1),ce={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},me=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Address",-1),ge={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},be=e("label",{for:"gender",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Select an option",-1),pe=e("option",{selected:""},"Choose a Gender",-1),fe=e("option",{value:"m"},"Male",-1),ye=e("option",{value:"f"},"Female",-1),xe=e("option",{value:"o"},"Other",-1),he=[pe,fe,ye,xe],ve={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},_e={class:"flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600"},ke={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},we={class:"flex items-center justify-between flex-column flex-wrap md:flex-row space-y-4 md:space-y-0 pb-4 bg-white dark:bg-gray-900"},Ce={class:"flex justify-between"},Be={class:"relative"},Ae=e("div",{class:"absolute inset-y-0 rtl:inset-r-0 start-0 flex items-center ps-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),Te={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},$e=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Name "),e("th",{scope:"col",class:"px-6 py-3"}," First Release Year "),e("th",{scope:"col",class:"px-6 py-3"}," No of Album "),e("th",{scope:"col",class:"px-6 py-3"}," Address "),e("th",{scope:"col",class:"px-6 py-3"}," Action ")])],-1),Ve={class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},Ye={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},De={class:"px-6 py-4"},Me={class:"px-6 py-4"},Ue={class:"px-6 py-4"},je={class:"px-6 py-4"},Fe=["onClick"],He=["onClick"],Ne=["onClick"],Le={__name:"Artist",setup(Oe){const C=f("");f();const $=O(),V=o=>{let t=o.getDate(),r=o.getMonth()+1;return r=r<10?"0"+r:r,t=t<10?"0"+t:t,`${o.getFullYear()}-${r}-${t}`},c=f([]),a=f({message:"",errors:{name:[""],first_release_year:[""],no_of_album_release:[""],gender:[""],dob:[""]}}),x=f(0),b=o=>{a.value.errors[o]=[""]},Y=()=>{x.value=0,h(),p(!0)},D=o=>{const t=o.target.files[0];n.fire({title:"Are you sure?",text:"You you want to store!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(r=>{if(r.isConfirmed){const l=new FormData;l.append("file",t),d.setHeader(),d.post("api/artist-import",l,{headers:{"Content-Type":"multipart/form-data"}}).then(v=>{v.status==200&&(n.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:B=>{B.onmouseenter=n.stopTimer,B.onmouseleave=n.resumeTimer}}).fire({icon:"success",title:"Artist Imported Created successfully"}),g(c.value.currentpage,""))})}})},M=o=>{h(),s.value.name=o.name,s.value.first_release_year=o.first_release_year,s.value.no_of_album_release=o.no_of_album_release,s.value.dob=o.dob,s.value.gender=o.gender,s.value.address=o.address,x.value=o.id,p(!0)},p=o=>{const t=document.querySelector("#default-modal"),r={placement:"bottom-right",backdrop:"dynamic",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40"},l=new Modal(t,r);o?l.show():l.hide()},U=o=>{$.push({name:"artist.music",params:{id:o}}).catch(t=>console.log(t))},s=f({name:"",first_release_year:"",no_of_album_release:"",dob:null,gender:null,address:"",gender:null}),j=()=>{d.setHeader(),d.get("api/artist-excel",{responseType:"blob"}).then(o=>{const t=new Blob([o.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(t),l=document.createElement("a");l.href=r,l.setAttribute("download","data.xlsx"),document.body.appendChild(l),l.click(),l.remove()}).catch(o=>{console.log(o)})},F=()=>{n.fire({title:"Are you sure?",text:"You you want to store!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(o=>{o.isConfirmed&&(d.setHeader(),d.post("api/artist-create",s.value).then(t=>{t.status==200&&(n.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:l=>{l.onmouseenter=n.stopTimer,l.onmouseleave=n.resumeTimer}}).fire({icon:"success",title:"Artist Created successfully"}),h(),p(!1),g(c.value.currentpage,""))}).catch(t=>{a.value=t.response.data}))})},H=()=>{n.fire({title:"Are you sure?",text:"You you want to update!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(o=>{o.isConfirmed&&(d.setHeader(),d.put("api/artist-update/"+x.value,s.value).then(t=>{t.status==200&&(n.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:l=>{l.onmouseenter=n.stopTimer,l.onmouseleave=n.resumeTimer}}).fire({icon:"success",title:"Artist Updated successfully"}),h(),p(!1),g(c.value.currentpage,C.value))}).catch(t=>{a.value=t.response.data}))})},N=o=>{n.fire({title:"Are you sure?",text:"You want to delete!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&(d.setHeader(),d.delete("api/artist-delete/"+o).then(r=>{r.status==200&&(n.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:v=>{v.onmouseenter=n.stopTimer,v.onmouseleave=n.resumeTimer}}).fire({icon:"success",title:"Artist Deleted successfully"}),g(c.value.currentpage,""))}).catch(r=>{a.value=r.response.data}))})},g=(o=1,t="")=>{C.value=t,d.setHeader(),d.get("api/get-artist-list",{params:{page:o,search:t}}).then(r=>{c.value=r.data}).catch(r=>{console.log(r.response.data.message)})},h=()=>{s.value.name="",s.value.first_release_year="",s.value.no_of_album_release="",s.value.dob="",s.value.gender="",s.value.address="",a.value={message:"",errors:{name:[""],first_release_year:[""],no_of_album_release:[""],gender:[""],dob:[""]}}};return S(()=>{g(1,"")}),(o,t)=>(u(),i("div",P,[e("div",z,[e("div",G,[e("div",Z,[e("div",J,[e("div",K,[e("div",Q,[e("div",W,[X,e("button",{type:"button","data-modal-hide":"default-modal",onClick:t[0]||(t[0]=r=>p(!1)),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"},re)]),e("div",oe,[e("div",null,[se,_(e("input",{onInput:t[1]||(t[1]=r=>b("name")),"onUpdate:modelValue":t[2]||(t[2]=r=>s.value.name=r),type:"text",name:"firstname",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"",required:""},null,544),[[k,s.value.name]]),a.value.errors.name&&a.value.errors.name[0]!=""?(u(),i("span",ae,m(a.value.errors.name[0]),1)):y("",!0)]),e("div",null,[le,w(A(T),{onInput:t[3]||(t[3]=r=>b("first_release_year")),modelValue:s.value.first_release_year,"onUpdate:modelValue":t[4]||(t[4]=r=>s.value.first_release_year=r),"year-picker":""},null,8,["modelValue"]),a.value.errors.first_release_year&&a.value.errors.first_release_year[0]!=""?(u(),i("span",ne,m(a.value.errors.first_release_year[0]),1)):y("",!0)]),e("div",null,[de,_(e("input",{onInput:t[5]||(t[5]=r=>b("no_of_album_release")),"onUpdate:modelValue":t[6]||(t[6]=r=>s.value.no_of_album_release=r),type:"number",name:"no_of_album_release",id:"no_of_album_release",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"",required:""},null,544),[[k,s.value.no_of_album_release]]),a.value.errors.no_of_album_release&&a.value.errors.no_of_album_release[0]!=""?(u(),i("span",ie,m(a.value.errors.no_of_album_release[0]),1)):y("",!0)]),e("div",null,[ue,w(A(T),{"onUpdate:modelValue":[t[7]||(t[7]=r=>b("dob")),t[8]||(t[8]=r=>s.value.dob=r)],modelValue:s.value.dob,format:V},null,8,["modelValue"]),a.value.errors.dob&&a.value.errors.dob[0]!=""?(u(),i("span",ce,m(a.value.errors.dob[0]),1)):y("",!0)]),e("div",null,[me,_(e("input",{onInput:t[9]||(t[9]=r=>b("address")),"onUpdate:modelValue":t[10]||(t[10]=r=>s.value.address=r),type:"text",name:"address",id:"address",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"",required:""},null,544),[[k,s.value.address]]),a.value.errors.address&&a.value.errors.address[0]!=""?(u(),i("span",ge,m(a.value.errors.address[0]),1)):y("",!0)]),e("div",null,[be,_(e("select",{onChange:t[11]||(t[11]=r=>b("gender")),id:"gender","onUpdate:modelValue":t[12]||(t[12]=r=>s.value.gender=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},he,544),[[I,s.value.gender]]),a.value.errors.gender&&a.value.errors.gender[0]!=""?(u(),i("span",ve,m(a.value.errors.gender[0]),1)):y("",!0)])]),e("div",_e,[x.value==0?(u(),i("button",{key:0,type:"button",onClick:F,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," ADD ")):(u(),i("button",{key:1,type:"button",onClick:H,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Update ")),e("button",{onClick:t[13]||(t[13]=r=>p(!1)),type:"button",class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"}," Close ")])])])]),e("div",ke,[e("div",we,[e("div",null,[e("div",Ce,[e("button",{onClick:Y,class:"mr-5 block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"}," Add Artist "),e("button",{onClick:j,class:"mr-5 block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"}," Export excel "),e("input",{"aria-describedby":"user_avatar_help",id:"user_avatar",type:"file",onChange:D},null,32)])]),e("div",Be,[Ae,e("input",{type:"text",id:"table-search-artist",onChange:t[14]||(t[14]=r=>g(c.value.currentpage,r.target.value)),class:"block p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"search artist"},null,32)])]),e("table",Te,[$e,e("tbody",null,[(u(!0),i(E,null,R(c.value.data,r=>(u(),i("tr",Ve,[e("th",Ye,m(r.name),1),e("td",De,m(r.first_release_year),1),e("td",Me,m(r.no_of_album_release),1),e("td",Ue,m(r.address),1),e("td",je,[e("a",{href:"#",class:"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-3 ml-2 py-1 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-900",onClick:q(l=>U(r.id),["prevent"])}," View Music ",8,Fe),e("a",{href:"#",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-2 py-1 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",onClick:l=>M(r)}," Edit ",8,He),e("a",{href:"#",class:"focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-3 ml-2 py-1 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",onClick:l=>N(r.id)}," Delete ",8,Ne)])]))),256))])]),w(L,{currentpage:c.value.currentpage,perpage:c.value.perpage,total:c.value.total,search:"",onLoadDate:g},null,8,["currentpage","perpage","total"])])])])])]))}};export{Le as default};
